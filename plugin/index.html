<!DOCTYPE html>
<html>
	<head>
		<script src="index.js"></script>
	</head>
	<style>
		body {
			background-color: var(--uxp-host-background-color);
			color: var(--uxp-host-text-color);
			border-color: var(--uxp-host-border-color);
			font-size: var(--uxp-host-font-size);
			padding: 0 16px;
		}

		.wrapper {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			overflow: auto;
			padding: 16px;
			display: flex;
			flex-direction: column;
		}
		.wrapper > * {
			flex: 0 0 auto;
			margin: 4px 0;
		}

		.small_text {
			color: var(--uxp-host-text-color-secondary);
		}

		.row {
			display: flex;
			flex-direction: row;
			align-items: flex-end;
		}
		.row > * {
			margin: 0 8px;
		}
		.row > *:first-child {
			margin-left: 0;
		}
		.row > *:last-child {
			margin-right: 0;
		}
		.row sp-textfield,
		.row sp-checkbox,
		.row sp-detail {
			flex: 1 1 auto;
		}
		.row sp-button,
		.row sp-action-button {
			margin: 0;
			flex: 0 0 auto;
		}

		#waka_error_msg {
			color: red;
			font-weight: bold;
		}

		#connectionStatus {
			position: relative;
		}
		#connectionStatus:before {
			content: '';
			position: absolute;
			left: -1.5em;
			top: 0.5em;
			width: 1em;
			height: 1em;
			border-radius: 0.5em;
			border: 1px solid rgba(255, 255, 255, 0.25);
		}
		#connectionStatus.negative:before {
			background-color: red;
		}
		#connectionStatus.positive:before {
			background-color: green;
		}
		#connectionStatus.unauthorized:before {
			background-color: #ca6608;
		}
	</style>
	<body>
		<div class="wrapper">
			<div class="row">
				<sp-detail>Status</sp-detail>
				<sp-body size="xs" id="connectionStatus" class="negative">
					Disconnected
				</sp-body>
			</div>

			<sp-divider></sp-divider>

			<div class="row">
				<sp-textfield placeholder="API key" id="waka_key" type="password">
					<sp-label slot="label">Your API key</sp-label>
				</sp-textfield>
				<sp-button id="waka_submitkey">Save</sp-button>
			</div>
			<sp-body id="waka_error_msg"></sp-body>

			<sp-detail>Plugin Configuration</sp-detail>
			<sp-divider></sp-divider>

			<sp-checkbox id="waka_enabled" checked="true">Plugin enabled</sp-checkbox>

			<sp-textfield placeholder="Default: Unknown" id="waka_api_hostname">
				<sp-label slot="label">Machine Name (copy from dashboard) </sp-label>
			</sp-textfield>

			<footer>
				<sp-action-button id="waka_reset_config">Reset</sp-action-button>
				<sp-action-button id="waka_save_config">Save</sp-action-button>
			</footer>
			<sp-divider></sp-divider>

			<div style="flex: 1 1 auto"></div>

			<sp-body class="small_text" size="xs">
				<span>You can find your API key at</span>
				<sp-link href="https://wakatime.com/api-key" quiet>
					https://wakatime.com/api-key
				</sp-link>
			</sp-body>
		</div>
	</body>
</html>
